<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>TuoTuo Book 登录入口</title>
    <link rel="stylesheet" href="/js/layui/css/layui.css"/>
    <link rel="stylesheet" href="/js/layui/css/layuiadminstyle.css">
    <link rel="stylesheet" href="/css/login/loginStyle.css">
</head>
<body style="background-image: url('/img/login_blackground.png');background-size: cover;display: flex;align-items: center;">

<div class="login-div login-container" id="login-modal">
    <h1 class="login_title">登录入口</h1>
    <form id="login-form" action="#">

        <div class="login-form-item">
            <input id="username" name="username" placeholder="用户名">
        </div>

        <div class="login-form-item">
            <input id="password" name="password" type="password" placeholder="密码">
        </div>

        <button data-name="save" class="btn-login" style="width: 100%;background: #505458;border: none" type="submit">登录
        </button>

        <div class="login-form-item">
            <p class="text-center mt-2">
                <a href="/registered"> 你还没有账号吗?</a>
            </p>
        </div>
    </form>
</div>

</body>
<th:block th:insert="~{common/menu :: script}"></th:block>
<script>
    $(function () {

        //按钮事件注册
        $('#login-modal').on('click', 'button[data-name=save]', function () {
            if (validateForm.form()) {
                $('#login-form').find('button').attr('disabled');
                console.log("123");
                login();
            }
        });

        //让当前表单调用validate方法，实现表单验证功能
        var validateForm = $('#login-form').validate({

            rules: {
                username: {
                    required: true
                },
                password: {
                    required: true
                }
            },
            messages: {
                username: {
                    required: "请输入用户名"
                },
                password: {
                    required: "请输入密码"
                }
            }
        });

        function login() {

            var formdata = {};
            formdata.username = $('#username').val();
            formdata.password = $('#password').val();

            console.log(formdata);
            // $.ajax({
            //     url: "/login/confirm",
            //     type: "POST",
            //     data:
            // })
        }



        // layui.use(['form', 'layedit', 'laydate'], function () {
        //     var form = layui.form
        //         , layer = layui.layer
        //         , layedit = layui.layedit
        //         , laydate = layui.laydate;
        //
        //     //日期
        //     /* laydate.render({
        //        elem: '#date'
        //      });
        //      laydate.render({
        //        elem: '#date1'
        //      });
        //
        //      //创建一个编辑器
        //      var editIndex = layedit.build('LAY_demo_editor');
        //
        //     //监听提交
        //     form.on('submit(demo1)', function (data) {
        //         layer.alert(JSON.stringify(data.field), {
        //             title: '最终的提交信息'
        //         })
        //         return false;
        //     });
        //
        //     //表单初始赋值
        //     /* form.val('example', {
        //        "username": "贤心" // "name": "value"
        //        ,"password": "123456"
        //        ,"interest": 1
        //        ,"like[write]": true //复选框选中状态
        //        ,"close": true //开关状态
        //        ,"sex": "女"
        //        ,"desc": "我爱 layui"
        //      })*/
        //
        //
        // });

    })
</script>

<script>


</script>
</html>
